# RansoSansoMC

2s切りのダブリーに対して3sと字牌のどちらがより当たり牌になる可能性が高いのかを、モンテカルロ法にてシミュレートする。


## プログラムの流れ

1. 以下の3つのカウンターを用意する。
    - 2s切りのリーチを打つ回数
    - 2s切りリーチのときに3sが当たり牌になる回数
    - 2s切りリーチのときに任意の字牌が当たり牌になる回数
1. ランダムに14枚の牌を引く
1. どの1枚を切れば聴牌になるかのを調べる。聴牌になるなら当たり牌も調べる。
    - 聴牌かどうかは、捨てた牌以外の33種全種を1枚ずつ引いてそれぞれ和了形を満たしているかどうかで調べる。
1. カウンターの条件を満たすならカウントアップする。
1. 1に戻る


## リーチのセオリー

リーチの打ち方が複数通りあるときは、以下の順序で優先順位を設ける。
同じ優先順位になる打ち方が複数存在する場合は、それらの中からランダムで1つを選択する。

1. 当たり牌の枚数
1. 当たり牌の種類数
1. 当たり牌に字牌が含まれるかどうか
1. 当たり牌に端牌が含まれるかどうか

簡単のため、役は全く考慮しない。


## 出力例

    試行回数: 500000000
    リーチ可能:  422042
    2s切りリーチ: 13214
    3sが当たり牌: 385 (2.91%)
    字牌が当たり牌: 2829 (21.41%)
    
    経過時間: 3:05:15 (44984試行/秒)


## 参考

[麻雀]簡単なあがり判定法 - Qiita
https://qiita.com/tomohxx/items/20d886d1991ab89f5522

## Q&A

##### Q. なんでC#？
A. C#だとマルチスレッドでの並列処理が書きやすい~~というかTypeScriptないしJavaScriptはシングルスレッドだし、それ以外は並列処理の楽な書き方を知らない~~から。

##### Q. 遅くね？
A. もっと素早く聴牌形と待ち牌がわかるアルゴリズムを教えて下さい…

##### Q. てか合ってるのこれ？
A. 和了形になっているかどうか判断する関数を含めて**一切のデバッグをしていません。** 間違ってたらごめんなさい。

